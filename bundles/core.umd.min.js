!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@angular/flex-layout"),require("@angular/forms"),require("@angular/platform-browser"),require("@angular/platform-browser/animations"),require("@angular/router"),require("hammerjs"),require("@angular/material"),require("rxjs/Rx")):"function"==typeof define&&define.amd?define(["exports","@angular/common","@angular/core","@angular/flex-layout","@angular/forms","@angular/platform-browser","@angular/platform-browser/animations","@angular/router","hammerjs","@angular/material","rxjs/Rx"],t):t(e.ngtable={},e._angular_common,e.ng.core,e._angular_flexLayout,e._angular_forms,e._angular_platformBrowser,e._angular_platformBrowser_animations,e._angular_router,null,e._angular_material,e.rxjs_Rx)}(this,function(e,t,n,r,a,o,i,s,u,l,c){"use strict";var p=function(){function e(e){this._table=e}return Object.defineProperty(e.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),e}(),g=function(){function e(e){this._table=e}return Object.defineProperty(e.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),e}(),b=function(){function e(e,t){this._table=e,this._params=t}return Object.defineProperty(e.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),e}(),f=function(){function e(e,t){this._table=e,this._result=t}return Object.defineProperty(e.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e}(),h=function(){function e(e,t,n){this._table=e,this._range=t,this._options=n}return Object.defineProperty(e.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),e}(),d=function(){function e(e,t){this._source=e,this._result=t}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e}(),m=function(){function e(e){this.activeRoute=e,this._rows=[],this._totalRows=0,this._page=1,this._totalPages=0,this._from=0,this._to=0,this._initialized=!1,this._queryPage="page",this.initEmitter=new n.EventEmitter,this.destroyEmitter=new n.EventEmitter,this.beforeConnectEmitter=new n.EventEmitter,this.sourceUpdateEmitter=new n.EventEmitter,this.afterConnectEmitter=new n.EventEmitter,this.rangeChangeEmitter=new n.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e=this;this.initEmitter.emit(new p(this)),this._querySubscriber=this.activeRoute.queryParams.debounceTime(10).subscribe(function(t){e._initialized=!0,e._page=t[e._queryPage]?+t[e._queryPage]:1,e.requestData()})},e.prototype.ngOnDestroy=function(){this._dataSourceSubscriber&&(this._dataSourceSubscriber.unsubscribe(),this._dataSourceSubscriber=null),this._querySubscriber.unsubscribe(),this.destroyEmitter.emit(new g(this))},Object.defineProperty(e.prototype,"dataSource",{set:function(e){var t=this;this._dataSource=e,this._dataSourceSubscriber&&this._dataSourceSubscriber.unsubscribe(),this._dataSource.sourceUpdate.subscribe(function(e){t.sourceUpdateEmitter.emit(e)}),this._dataSourceSubscriber=this._dataSource.connection.subscribe(function(e){if(e){t.calculate(e.data,e.totalRows);var n=new f(t,e);t.afterConnectEmitter.emit(n),t._dataSource.afterConnect.emit(n)}})},enumerable:!0,configurable:!0}),e.prototype.calculate=function(e,t){this._rows=e,this._totalRows=t,this._totalPages=Math.ceil(this._totalRows/this._dataSource.range),this._page>this._totalPages&&(this._page=1),this._from=(this._page-1)*this._dataSource.range+1,this._to=this._from+this._dataSource.range-1,this._to>this._totalRows&&(this._to=this._totalRows)},e.prototype.requestData=function(){if(!this._dataSource.loading){this._dataSource.params.offset=(this._page-1)*this._dataSource.range;var e=new b(this,this._dataSource.params);this.beforeConnectEmitter.emit(e),this._dataSource.beforeConnect.emit(e),this._dataSource.getData(this._dataSource.params)}},e.prototype.removeRow=function(e){var t=this._rows.indexOf(e);return t>-1&&this._rows.splice(t,1),this.calculate(this._rows,this.totalRows-1),this},e.prototype.updateRow=function(e){var t=this._rows.indexOf(e);return t>-1&&this._rows.splice(t,1,e),this},e.prototype.addRow=function(e){return this._rows.push(e),this.calculate(this._rows,this.totalRows+1),this},Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queryPage",{set:function(e){this._queryPage=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this._page},set:function(e){this._dataSource.loading||(this._page=+e,this._page<1&&(this._page=1),this._page>this._totalPages&&(this._page=this._totalPages,this._page<1&&(this._page=1)),this.requestData())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalPages",{get:function(){return this._totalPages},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalRows",{get:function(){return this._totalRows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"from",{get:function(){return this._from},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"to",{get:function(){return this._to},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._dataSource.range},set:function(e){this._dataSource.loading||(this._dataSource.range=+e,this.rangeChangeEmitter.emit(new h(this,this.range,this.rangeOptions)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeOptions",{get:function(){return this._dataSource.rangeOptions},set:function(e){this._dataSource.rangeOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"initialized",{get:function(){return this._initialized},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loading",{get:function(){return this._dataSource.loading},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0==this._totalRows},enumerable:!0,configurable:!0}),e.prototype.refresh=function(){return this.page=this._page,this},e.prototype.prev=function(){return this._page--,this._page<1&&(this._page=1),this.page=this._page,this},e.prototype.next=function(){this._page++;var e=this.totalPages;return this._page>e&&(this._page=e),this.page=this._page,this},Object.defineProperty(e.prototype,"hasPrev",{get:function(){return this._page>1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return this._page<this._totalPages},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFirst",{get:function(){return 1==this._page},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLast",{get:function(){return this._page==this._totalPages},enumerable:!0,configurable:!0}),e}();m.decorators=[{type:n.Component,args:[{selector:"ng-table",template:"\n  <ng-content></ng-content>\n  ",styles:["\n:host(.ng-table) {\n  background: #fff;\n  overflow: auto;\n  display: flex;\n  flex-direction: column;\n}\n\n:host(.ng-table) /deep/ .ng-table-header-row,\n:host(.ng-table) /deep/ .ng-table-row {\n  border-bottom-color: rgba(0, 0, 0, .12);\n  display: flex;\n  border-bottom-width: 1px;\n  border-bottom-style: solid;\n  align-items: center;\n  min-height: 48px;\n  padding: 0 12px;\n}\n\n:host(.ng-table) /deep/ .ng-table-header-cell {\n  font-size: 12px;\n  font-weight: 500;\n  color: rgba(0, 0, 0, .54);\n  flex: 1;\n}\n\n:host(.ng-table) /deep/ .ng-table-cell {\n  font-size: 14px;\n  color: rgba(0,0,0,.87);\n  flex: 1;\n}\n\n:host(.ng-table) /deep/ .ng-table-icon {\n  width: 40px;\n  height: 40px;\n}\n\n:host(.ng-table-striped) /deep/ .ng-table-row:nth-of-type(odd) {\n  background-color: #f9f9f9;\n}\n\n:host(.ng-table-striped.ng-table-hover) /deep/ .ng-table-row:hover {\n  background-color: #f5f5f5;\n}\n  "],host:{class:"ng-table"}}]}],m.ctorParameters=function(){return[{type:s.ActivatedRoute}]},m.propDecorators={initEmitter:[{type:n.Output,args:["init"]}],destroyEmitter:[{type:n.Output,args:["destroy"]}],beforeConnectEmitter:[{type:n.Output,args:["beforeConnect"]}],sourceUpdateEmitter:[{type:n.Output,args:["sourceUpdate"]}],afterConnectEmitter:[{type:n.Output,args:["afterConnect"]}],rangeChangeEmitter:[{type:n.Output,args:["rangeChange"]}],dataSource:[{type:n.Input}],queryPage:[{type:n.Input}],page:[{type:n.Input}],range:[{type:n.Input}],rangeOptions:[{type:n.Input}]};var _=function(){function e(e){this.parent=e}return e}();_.decorators=[{type:n.Component,args:[{selector:"ng-table-row",template:"\n  <ng-content></ng-content>\n  ",host:{class:"ng-table-row"}}]}],_.ctorParameters=function(){return[{type:m}]};var y=function(){function e(e){this.parent=e}return e}();y.decorators=[{type:n.Component,args:[{selector:"ng-table-cell",template:"\n  <ng-content></ng-content>\n  ",host:{class:"ng-table-cell"}}]}],y.ctorParameters=function(){return[{type:_}]};var w=function(){function e(e){this.parent=e}return e}();w.decorators=[{type:n.Component,args:[{selector:"ng-table-header-row",template:"\n  <ng-content></ng-content>\n  ",host:{class:"ng-table-header-row"}}]}],w.ctorParameters=function(){return[{type:m}]};var P=function(){function e(e){this.parent=e}return e}();P.decorators=[{type:n.Component,args:[{selector:"ng-table-header-cell",template:"\n  <ng-content></ng-content>\n  ",host:{class:"ng-table-header-cell"}}]}],P.ctorParameters=function(){return[{type:w}]};var O=function(){function e(){this._rangeVisible=!0,this._label={items_per_page:"Items per page",page:"Page",of_page:"of",items:"Items",of_items:"of"}}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._label=Object.assign({},this._label,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngTable",{set:function(e){this.table=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeVisible",{get:function(){return this._rangeVisible},set:function(e){this._rangeVisible=e},enumerable:!0,configurable:!0}),e.prototype.actionRange=function(e){this.table&&(this.table.range=+e.value)},e}();O.decorators=[{type:n.Component,args:[{selector:"ng-table-paginator",template:'\n<div class="ng-table-paginator-page-size" *ngIf="rangeVisible && !table.empty">\n  <div class="ng-table-paginator-page-size-label">\n    {{label.items_per_page}}\n  </div>\n  <md-select class="ng-table-paginator-page-size-select" [(ngModel)]="table.range" (change)="actionRange($event)" [disabled]="table.loading">\n    <md-option *ngFor="let count of table.rangeOptions" [value]="count">\n      {{count}}\n    </md-option>\n  </md-select>\n</div>\n<div class="ng-table-paginator-page-label" *ngIf="!table.empty">\n  {{label.page}} {{table.page}} {{label.of_page}} {{table.totalPages}} |\n  {{label.items}} <span *ngIf="table.rows.length > 1">{{table.from}} - {{table.to}}</span>\n  <span *ngIf="table.rows.length == 1">{{table.from}}</span>\n  {{label.of_items}} {{table.totalRows}}\n</div>\n<button md-icon-button *ngIf="!table.empty" (click)="table.prev()" [disabled]="!table.hasPrev || table.loading" mdTooltip="Previous page"><md-icon class="material-icons">navigate_before</md-icon></button>\n<button md-icon-button *ngIf="!table.empty" (click)="table.next()" [disabled]="!table.hasNext || table.loading" mdTooltip="Next page"><md-icon class="material-icons">navigate_next</md-icon></button>\n  ',styles:["\n:host(.ng-table-paginator) {\n  font-family: Roboto,Helvetica Neue,sans-serif;\n  font-size: 12px;\n  background: #fff;\n  color: rgba(0,0,0,.54);\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  min-height: 56px;\n  padding: 0 8px;\n}\n\n:host(.ng-table-paginator) /deep/ .ng-table-paginator-page-size {\n  display: flex;\n  align-items: center;\n}\n\n:host(.ng-table-paginator) /deep/ .ng-table-paginator-page-size-label {\n  margin: 0 8px 0 0;\n}\n\n:host(.ng-table-paginator) /deep/ .ng-table-paginator-page-size-select .mat-select-trigger {\n  min-width: 60px;\n  font-size: 12px;\n}\n\n:host(.ng-table-paginator) /deep/ .ng-table-paginator-page-label {\n  margin: 0 32px;\n}\n  "],host:{class:"ng-table-paginator"}}]}],O.ctorParameters=function(){return[]},O.propDecorators={table:[{type:n.Input}],label:[{type:n.Input,args:["labels"]}],ngTable:[{type:n.Input}],rangeVisible:[{type:n.Input}]};var v=function(){function e(){this._range=null,this._rangeOptions=[5,10,20,50],this._params=null,this._loading=!1,this._sourceUpdate=new c.BehaviorSubject(null),this.sourceUpdate=new n.EventEmitter,this.beforeConnect=new n.EventEmitter,this.afterConnect=new n.EventEmitter}return Object.defineProperty(e.prototype,"loading",{get:function(){return this._loading},enumerable:!0,configurable:!0}),e.prototype.getData=function(e){this._loading=!0,this.source(e)},e.prototype.updateData=function(e){this._loading=!1,this._sourceUpdate.next(e),this.sourceUpdate.emit(new d(this,e))},Object.defineProperty(e.prototype,"connection",{get:function(){return this._sourceUpdate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this._params},set:function(e){var t=null!=this._params;this._params=e,!this._loading&&t&&this.getData(this.params)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range||10},set:function(e){var t=null!=this._range;this._range=e,!this._loading&&t&&this.getData(this.params)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rangeOptions",{get:function(){return this._rangeOptions},set:function(e){this._rangeOptions=e},enumerable:!0,configurable:!0}),e}(),j=function(){function e(e,t,n){void 0===t&&(t=0),this._data=e,this._totalRows=t,this._additionalData=n}return Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalRows",{get:function(){return this._totalRows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"additionalData",{get:function(){return this._additionalData},enumerable:!0,configurable:!0}),e.create=function(t,n,r){return new e(t,n,r)},e.singlePage=function(t,n,r){var a=[],o=0,i=t.params;return n.forEach(function(e){o>=i.offset&&o<i.offset+t.range&&a.push(e),o++}),new e(a,n.length,r)},e}(),x=[],E=function(){function e(){}return e}();E.decorators=[{type:n.NgModule,args:[{imports:[s.RouterModule.forRoot(x)],exports:[s.RouterModule]}]}],E.ctorParameters=function(){return[]};var S=function(){function e(){}return e}();S.decorators=[{type:n.NgModule,args:[{imports:[o.BrowserModule,i.BrowserAnimationsModule,t.CommonModule,a.FormsModule,r.FlexLayoutModule,E,l.MdSelectModule,l.MdButtonModule],declarations:[m,w,P,_,y,O],providers:[],exports:[m,w,P,_,y,O]}]}],S.ctorParameters=function(){return[]},e.NgTableRoutingModule=E,e.NgTableModule=S,e.NgTableInitEvent=p,e.NgTableDestroyEvent=g,e.NgTableBeforeConnectEvent=b,e.NgTableAfterConnectEvent=f,e.NgTableRangeEvent=h,e.NgTableSource=v,e.NgTableSourceResult=j,e.NgTable=m,e.NgTableHeaderRow=w,e.NgTableHeaderCell=P,e.NgTableRow=_,e.NgTableCell=y,e.NgTablePaginator=O,Object.defineProperty(e,"__esModule",{value:!0})});
{"version":3,"sources":["../src/ngtable.source.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,SAAS,CAAC;AAI1C;IAQE;QANU,WAAM,GAAW,IAAI,CAAC;QACtB,kBAAa,GAAkB,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC/C,YAAO,GAAyB,IAAI,CAAC;QACvC,aAAQ,GAAY,KAAK,CAAC;QACf,gBAAW,GAAyC,IAAI,eAAe,CAAsB,IAAI,CAAC,CAAC;IAItH,CAAC;IAED,sBAAI,kCAAO;aAAX;YACE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACvB,CAAC;;;OAAA;IAID,+BAAO,GAAP,UAAQ,MAA4B;QAClC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IACtB,CAAC;IAES,kCAAU,GAApB,UAAqB,MAA2B;QAC9C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAChC,CAAC;IAED,sBAAI,qCAAU;aAAd;YACE,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;QAC1B,CAAC;;;OAAA;IAED,sBAAI,iCAAM;aAAV;YACE,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;QACtB,CAAC;aAED,UAAW,KAA2B;YACpC,IAAI,MAAM,GAAQ,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC;YAEvC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YAErB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC5B,CAAC;QACH,CAAC;;;OAVA;IAYD,sBAAI,gCAAK;aAAT;YACE,MAAM,CAAC,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC;QAC3B,CAAC;aAED,UAAU,KAAa;YACrB,IAAI,MAAM,GAAQ,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC;YAEtC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YAEpB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC5B,CAAC;QACH,CAAC;;;OAVA;IAYD,sBAAI,uCAAY;aAAhB;YACE,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;QAC5B,CAAC;aAED,UAAiB,OAAsB;YACrC,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC;QAC/B,CAAC;;;OAJA;IAMH,oBAAC;AAAD,CApEA,AAoEC,IAAA","file":"ngtable.source.js","sourceRoot":"","sourcesContent":["import { BehaviorSubject } from 'rxjs/Rx';\nimport { NgTableSourceResult } from './ngtable.result';\nimport { INgTableSourceParams } from './ngtable.params';\n\nexport abstract class NgTableSource {\n\n  protected _range: number = null;\n  protected _rangeOptions: Array<number> = [5, 10, 20, 50];\n  protected _params: INgTableSourceParams = null;\n  private _loading: boolean = false;\n  protected readonly _dataChange: BehaviorSubject<NgTableSourceResult> = new BehaviorSubject<NgTableSourceResult>(null);\n\n  constructor() {\n\n  }\n\n  get loading(): boolean {\n    return this._loading;\n  }\n\n  protected abstract source(params: INgTableSourceParams): void;\n\n  getData(params: INgTableSourceParams): void {\n    this._loading = true;\n    this.source(params);\n  }\n\n  protected updateData(result: NgTableSourceResult) {\n    this._loading = false;\n    this._dataChange.next(result);\n  }\n\n  get connection(): BehaviorSubject<NgTableSourceResult> {\n    return this._dataChange;\n  }\n\n  get params(): INgTableSourceParams {\n    return this._params;\n  }\n\n  set params(value: INgTableSourceParams) {\n    let wasSet: any = this._params != null;\n\n    this._params = value;\n\n    if (!this._loading && wasSet) {\n      this.getData(this.params);\n    }\n  }\n\n  get range(): number {\n    return this._range || 10;\n  }\n\n  set range(value: number) {\n    let wasSet: any = this._range != null;\n\n    this._range = value;\n\n    if (!this._loading && wasSet) {\n      this.getData(this.params);\n    }\n  }\n\n  get rangeOptions(): Array<number> {\n    return this._rangeOptions;\n  }\n\n  set rangeOptions(options: Array<number>) {\n    this._rangeOptions = options;\n  }\n\n}\n"]}